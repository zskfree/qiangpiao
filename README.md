# 深圳大学体育场馆抢票脚本使用说明

## 功能特点

1. **自动重试**: 程序会持续监控可用时段，自动重试直到抢到票
2. **SSL问题解决**: 已解决SSL握手失败问题
3. **智能优先级**: 根据配置的时段优先级自动选择最优时段
4. **完整日志**: 详细的日志记录，支持文件和控制台输出
5. **异常处理**: 完善的错误处理机制
6. **登录检查**: 自动检查登录状态

## 使用步骤

### 1. 更新Cookie

首先需要获取最新的cookie：

1. 打开浏览器，登录深圳大学体育场馆预约系统
2. 按F12打开开发者工具
3. 刷新页面，在Network标签页找到请求
4. 复制Cookie值，替换脚本中的`raw_cookie`变量

### 2. 配置参数

编辑`config.py`文件：

```python
# 修改这些参数
CONFIG = {
    "XQ": "2",        # 校区：1=粤海, 2=丽湖
    "XMDM": "001",    # 项目：001=羽毛球, 002=乒乓球, 003=网球, 004=篮球
    
    # 优先时段（按优先级排序）
    "PREFERRED_TIMES": [
        "19:00-20:00",
        "20:00-21:00", 
        "18:00-19:00"
    ]
}
```

### 3. 运行脚本

```bash
python qiangpiao.py
```

## 配置说明

### 校区代码

- `"1"`: 粤海校区
- `"2"`: 丽湖校区

### 项目代码

- `"001"`: 羽毛球
- `"002"`: 乒乓球  
- `"003"`: 网球
- `"004"`: 篮球

### 时段优先级

在`PREFERRED_TIMES`中配置你想要的时段，程序会按顺序优先预约。

## 注意事项

1. **Cookie有效期**: Cookie有时效性，如果登录失效需要重新获取
2. **网络环境**: 确保网络连接稳定
3. **预约时间**: 通常需要在开放预约时间内运行脚本
4. **运行时机**: 建议在预约开放前几分钟启动脚本

## 常见问题

### Q: SSL错误怎么办？

A: 脚本已经处理了SSL问题，使用`verify=False`跳过证书验证。

### Q: 如何知道预约是否成功？

A: 查看控制台输出或`qiangpiao.log`日志文件。

### Q: 可以同时抢多个时段吗？

A: 脚本会按优先级尝试预约，成功一个后会停止。

### Q: 如何修改预约日期？

A: 修改`config.py`中的`TARGET_DATE`参数。

## 日志文件

程序运行时会生成`qiangpiao.log`日志文件，记录详细的运行信息。

## 免责声明

本脚本仅供学习交流使用，请遵守学校相关规定，合理使用。
